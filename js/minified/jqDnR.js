(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(p){p.fn.jqDrag=function(e){return n(this,e,"d")},p.fn.jqResize=function(e,t){return n(this,e,"r",t)},p.jqDnR={dnr:{},e:0,drag:function(e){return"d"==u.k?f.css({left:u.X+e.pageX-u.pX,top:u.Y+e.pageY-u.pY}):(f.css({width:Math.max(e.pageX-u.pX+u.W,0),height:Math.max(e.pageY-u.pY+u.H,0)}),i&&a.css({width:Math.max(e.pageX-i.pX+i.W,0),height:Math.max(e.pageY-i.pY+i.H,0)})),!1},stop:function(){p(document).off("mousemove",e.drag).off("mouseup",e.stop)}};var a,i,e=p.jqDnR,u=e.dnr,f=e.e,n=function(e,t,n,o){return e.each(function(){(t=t?p(t,e):e).on("mousedown",{e:e,k:n},function(e){var t=e.data,n={};if(f=t.e,a=!!o&&p(o),"relative"!=f.css("position"))try{f.position(n)}catch(e){}if(u={X:n.left||r("left")||0,Y:n.top||r("top")||0,W:r("width")||f[0].scrollWidth||0,H:r("height")||f[0].scrollHeight||0,pX:e.pageX,pY:e.pageY,k:t.k},i=!(!a||"d"==t.k)&&{X:n.left||s("left")||0,Y:n.top||s("top")||0,W:a[0].offsetWidth||s("width")||0,H:a[0].offsetHeight||s("height")||0,pX:e.pageX,pY:e.pageY,k:t.k},p("input.hasDatepicker",f[0])[0])try{p("input.hasDatepicker",f[0]).datepicker("hide")}catch(e){}return p(document).mousemove(p.jqDnR.drag).mouseup(p.jqDnR.stop),!1})})},r=function(e){return parseInt(f.css(e),10)||!1},s=function(e){return parseInt(a.css(e),10)||!1};p.fn.tinyDraggable=function(e){var i=p.extend({handle:0,exclude:0},e);return this.each(function(){var n,o,a=p(this);(i.handle?p(i.handle,a):a).on({mousedown:function(e){var t;i.exclude&&~p.inArray(e.target,p(i.exclude,a))||(e.preventDefault(),t=a.offset(),n=e.pageX-t.left,o=e.pageY-t.top,p(document).on("mousemove.drag",function(e){a.offset({top:e.pageY-o,left:e.pageX-n})}))},mouseup:function(e){p(document).off("mousemove.drag")}})})}});